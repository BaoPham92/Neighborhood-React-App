(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{155:function(e,t,n){e.exports=n(382)},160:function(e,t,n){},162:function(e,t,n){},382:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(62),i=n.n(o),s=n(384),c=(n(160),n(16)),l=n(17),u=n(23),m=n(22),p=n(24),d=(n(162),n(36)),f=Object(d.withScriptjs)(Object(d.withGoogleMap)(function(e){return r.a.createElement(d.GoogleMap,{defaultZoom:14,center:e.center},e.markers&&e.markers.filter(function(e){return e.isShowing}).map(function(t){var n=e.venues.find(function(e){return e.id===t.id});return r.a.createElement(d.Marker,{tabIndex:"2",key:t.id,position:{lat:t.lat,lng:t.lng},title:t.title,onClick:function(){return e.toggleMarker(t)},defaultAnimation:google.maps.Animation.DROP,animation:t.isActive&&google.maps.Animation.BOUNCE},t.isActive&&r.a.createElement(d.InfoWindow,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"info-window",role:"conteninfot"},r.a.createElement("h1",null,n.name),r.a.createElement("hr",null),r.a.createElement("h3",null,"Type Of Place:"),r.a.createElement("p",null,n.categories[0].name),r.a.createElement("h3",null,"Location And Hours:"),r.a.createElement("p",null,n.location.address),r.a.createElement("h2",null,"Something To Eat?")))))}))})),h=function(e){function t(e){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).call(this))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(f,Object.assign({},this.props,{role:"application","aria-label":"Restaurant locations",isMarkerShown:!0,googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&key=AIzaSyBglNEQSJfyWYuoGeyTCS5IyCoawoPMR0s&v=3&callback=checker",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"100%",width:"100%"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})}))}}]),t}(a.Component);window.checker=function(){var e=window.document.getElementsByTagName("script"),t=!0,n=!1,a=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var i=r.value;i.async=!0,i.defer=!0}}catch(s){n=!0,a=s}finally{try{t||null==o.return||o.return()}finally{if(n)throw a}}},window.gm_authFailure=function(){alert("\n    Error with authentication for Google Maps.\n\n    Attempt to troubleshoot by:\n\n    - Checking the API key for Google Maps.\n    - Checking the API key console for any limitations.\n    ")};var g=n(150),v=n(151),y=n.n(v),k=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("ul",{className:"Results-Window"},this.props.venues&&this.props.venues.map(function(t){return r.a.createElement("li",{key:t.id,className:"Results-List",onClick:function(){return e.props.itemToggle(t)},role:"list",tabIndex:"1"},t.name)}))}}]),t}(a.Component),b=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={query:"",markerFinder:function(e){n.setState({query:e.target.value});var t=new RegExp(y()(n.state.query).toLocaleLowerCase().trim()),a=n.props.venues.map(function(e){var a=n.props.markers.find(function(t){return t.title===e.name});console.log(a),t.test(e.name.toLocaleLowerCase())?a.isShowing=!0:a.isShowing=!1});n.props.updateMarkers({updated:a})},venueVisibility:function(){return""!==n.state.query.trim()?n.props.venues.filter(function(e){return e.name.toLocaleLowerCase().includes(n.state.query.toLocaleLowerCase())}):n.props.venues}},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"user-window"},r.a.createElement("div",{className:"search-box"},r.a.createElement(g.DebounceInput,{tabIndex:"0",role:"search",type:"text",placeholder:"Search Places",debounceTimeout:125,onChange:this.state.markerFinder,value:this.state.query}),r.a.createElement(k,Object.assign({},this.props,{venues:this.state.venueVisibility()}))))}}]),t}(a.Component),E=n(152),O=n.n(E).a.create();O.defaults.timeout=2e3;var w=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"callFetch",value:function(e,t){var n="https://api.foursquare.com/v2/venues/search?"+new URLSearchParams({client_id:"3S3Z01DGDZKC512ISDMGGJ1OCFBSHTB0CPN4HKXQ1HFSFBAX",client_secret:"WXUKLTPIEAVA1INPRRXZJFUCMQFBPOVW3VMKXBH4M3L5IPKR",v:"20180323",near:e,query:t,limit:10,radius:2500});return O.get(n,{headers:{Accept:"application/json","Content-Type":"application/json"}}).catch(function(e){if(console.log(e.request,e.response),429===e.response.status){var t=e.response.data.meta;alert("\n                Error retreiving venue's information. \n                \n                Call Type: (Search Call)\n\n                Error code: ".concat(t.code," \n                Details: ").concat(t.errorDetail," \n                RequestId: ").concat(t.requestId))}else console.log("Error",e.message)})}},{key:"idFetch",value:function(e){var t="https://api.foursquare.com/v2/venues/".concat(e,"?")+new URLSearchParams({client_id:"3S3Z01DGDZKC512ISDMGGJ1OCFBSHTB0CPN4HKXQ1HFSFBAX",client_secret:"WXUKLTPIEAVA1INPRRXZJFUCMQFBPOVW3VMKXBH4M3L5IPKR",v:"20180323"});return O.get(t,{headers:{Accept:"application/json","Content-Type":"application/json"}}).catch(function(e){if(console.log(e.request,e.response),429===e.response.status){var t=e.response.data.meta;alert("\n                Error retreiving this venue's information. \n                \n                Call Type: (Venue Details Call)\n\n                Error code: ".concat(t.code," \n                Details: ").concat(t.errorDetail," \n                RequestId: ").concat(t.requestId))}else console.log("Error",e.message)})}},{key:"idMenu",value:function(e){var t="https://api.foursquare.com/v2/venues/".concat(e,"/menu?")+new URLSearchParams({client_id:"3S3Z01DGDZKC512ISDMGGJ1OCFBSHTB0CPN4HKXQ1HFSFBAX",client_secret:"WXUKLTPIEAVA1INPRRXZJFUCMQFBPOVW3VMKXBH4M3L5IPKR",v:"20180323"});return O.get(t,{headers:{Accept:"application/json","Content-Type":"application/json"}}).catch(function(e){if(console.log(e.request,e.response),429===e.response.status){var t=e.response.data.meta;alert("\n                Error retreiving this venue's menu information. \n                \n                Call Type: (Menu Call)\n\n                Error code: ".concat(t.code," \n                Details: ").concat(t.errorDetail," \n                RequestId: ").concat(t.requestId))}else console.log("Error",e.message)})}}]),e}(),j=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"getVenues",value:function(e,t){return w.callFetch(e,t)}},{key:"idDetails",value:function(e){return w.idFetch(e)}},{key:"idMenu",value:function(e){return w.idMenu(e)}}]),e}(),C=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={center:[],venues:[],markers:[],toggleMarkerOff:function(){var e=n.state.markers.map(function(e){return e.isActive=!1,e});n.setState({markers:Object.assign(n.state.markers,e)})},toggleMarker:function(e){n.state.toggleMarkerOff(),e.isActive=!0,n.setState({markers:Object.assign(n.state.markers,e)});var t=n.state.venues.find(function(t){return t.id===e.id});j.idDetails(e.id).then(function(e){var a=Object.assign(t,e.data.response.venue);n.setState({venues:Object.assign(n.state.venues,a)})}).catch(function(e){console.log(e)}),j.idMenu(e.id).then(function(e){var a=Object.assign(t,e.data.response.menu);n.setState({venues:Object.assign(n.state.venues,a)})}).catch(function(e){console.log(e)})},updateMarkers:function(e){n.setState(e)},itemToggle:function(e){var t=n.state.markers.find(function(t){return t.id===e.id});console.log(e),console.log(t,n.state.markers),n.state.toggleMarker(t)}},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;j.getVenues("washington","coffee").then(function(t){var n=t.data.response.geocode.feature.geometry.center,a=t.data.response.venues,r=a.map(function(e){return{lat:e.location.lat,lng:e.location.lng,title:e.name,id:e.id,isActive:!1,isShowing:!0}});e.setState({center:n,venues:a,markers:r}),console.log(t)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return r.a.createElement("main",{className:"App",role:"main"},r.a.createElement(b,this.state),r.a.createElement(h,this.state))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(s.a,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[155,2,1]]]);
//# sourceMappingURL=main.78a5e4e0.chunk.js.map